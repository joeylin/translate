<!DOCTYPE html>
<html lang="en">
    <head>
        <meta http-equiv="content-type" content="text/html; charset=UTF-8"> 
        <title>Translate</title>
        <meta name="generator" content="translate" />
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

        <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"/>
        <link rel="stylesheet" href="/public/css/bootstrap.min.css">
        <link rel="stylesheet" href="/public/css/font-awesome.min.css">
        <link rel="stylesheet" href="/public/css/main.css">

        <!--[if lt IE 9]>
          <script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->

        <!-- CSS code from translate.com editor -->
        
        <style type="text/css">
            /*
           * Style tweaks
           * --------------------------------------------------
           */
          body {
            padding-top: 50px;
            background-color: #f5f5f5;
          }
          footer {
            padding-left: 15px;
            padding-right: 15px;
            background-color: #fff;
          }

          /*
           * Off Canvas
           * --------------------------------------------------
           */
          @media screen and (max-width: 768px) {
            .row-offcanvas {
              position: relative;
              -webkit-transition: all 0.25s ease-out;
              -moz-transition: all 0.25s ease-out;
              transition: all 0.25s ease-out;
            }

            .row-offcanvas-left
            .sidebar-offcanvas {
              left: -33%;
            }

            .row-offcanvas-left.active {
              left: 33%;
            }

            .sidebar-offcanvas {
              position: absolute;
              top: 0;
              width: 33%;
              margin-left: 10px;
            }
          }


          /* Sidebar navigation */
          .nav-sidebar {
            background-color: #f5f5f5;
            margin-right: -15px;
            margin-bottom: 20px;
            margin-left: -15px;
          }
          .nav-sidebar > li > a {
            padding-right: 20px;
            padding-left: 20px;
          }
          .nav-sidebar > .active > a {
            color: #fff;
            background-color: #428bca;
          }

          /*
           * Main content
           */

          .main {
            padding: 20px;
            background-color: #fff;
          }
          @media (min-width: 768px) {
            .main {
              padding-right: 40px;
              padding-left: 40px;
            }
          }
          .main .page-header {
            margin-top: 0;
          }

          /*
           *  angular.js
           */
            input.ng-dirty.ng-invalid {
              border: 1px solid red;
            }
            input.ng-valid {
              border: 1px solid green;
            }

        </style>
        <script src="/public/bower_components/reserveLoadjs/reserveLoad.js"></script>
        <script type="text/javascript">
          window.ts = {};
          <% if (locals.user) { %>
            ts.me = {
              uid: '<%= locals.user.uid %>',
              username: '<%= locals.user.username %>',
              display_name: '<%= locals.user.display_name %>',
              email: '<%= locals.user.email %>',
              avatar: '<%= locals.user.avatar %>',
              isActive: '<%= locals.user.isActive %>'
            };
          <% } %>
          ts.doc = <%- JSON.stringify(locals.doc) %>;
          console.log(ts.doc);
        </script>
    </head>
    
    <!-- HTML code from Bootply.com editor -->
    
    <body>   
        <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
          <div class="container-fluid">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              <a class="navbar-brand" href="#">Translate</a>
            </div>
            <div class="navbar-collapse collapse">
              <ul class="nav navbar-nav navbar-right">
                  <li class="dropdown" id="menuLogin" ng-if="!global.isLogin" >
                      <a class="dropdown-toggle" href="#" data-toggle="dropdown" id="navLogin" ng-bind="global.components.login"></a>
                      <div class="dropdown-menu" style="padding:17px;border-radius: 6px;">
                          <form id="formLogin" class="form" ng-controller="userLoginCtrl" novalidate > 
                              <label>Login</label> 
                              <input class="form-control" name="form-control" id="username" type="text" placeholder="Username" title="Enter your username" required ng-model="user.username" ng-keydown="enter($event)">
                              <input class="form-control" name="password" id="password" type="password" placeholder="Password" title="Enter your password" required ng-model="user.password" ng-keydown="enter($event)">
                              <button type="button" id="btnLogin" class="btn" shake ng-click="submit()">Login</button>
                          </form>
                          <br>
                          <form class="form">
                            <a class="signup" href="#" title="Fast and free sign up!" id="btnNewUser" data-toggle="collapse" data-target="#formRegister">New User? Sign-up..</a>
                          </form>
                          <form id="formRegister" class="form collapse" ng-controller="userRegisterCtrl">
                              <input class="form-control" name="email" id="inputEmail" type="email" placeholder="Email" ng-minlength=3 required ng-model="user.email">
                              <input class="form-control" name="username" id="inputUsername" type="text" placeholder="Username" ng-minlength=3 ng-maxlength=20 title="Choose a username" required ng-model="user.username">
                              <input class="form-control" name="password" id="inputpassword" type="password" ng-minlength=3 ng-maxlength=20 placeholder="Password" required ng-model="user.password"> 
                              <input class="form-control" name="verify" id="inputVerify" type="password" ng-minlength=3 ng-maxlength=20 placeholder="Password (again)" validate-watch="user.password" required ng-model="user.password2">                                  
                              <button type="button" id="btnRegister" class="btn" shake ng-click="submit()">{{signup}}</button>
                          </form>
                          <br>
                          <a data-toggle="modal" role="button" href="#forgotPasswordModal">Forgot username or password?</a>
                          <a data-toggle="modal" role="button" href="#contactModal"><small>Need help? Contact us</small></a>
                      </div>
                  </li>
                  <li class="dropdown" id="menuUser" ng-if="global.isLogin">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" title="See your Bootply collection and profile">
                            <!-- todo have custom user image -->
                            <!-- <img ng-src="{{global.user.avatar}}" alt="" class="nav-user-pic img-responsive"> -->
                            <i class="fa fa-user"></i> 
                            <span id="lblUsername" ng-bind="global.user.username" style="margin-left: 5px;"></span>
                            <b class="caret"></b>
                        </a>
                        <ul class="dropdown-menu" ng-controller="settingsCtrl">
                            <li><a href="#"><i class="fa fa-user"></i> Profile</a></li>
                            <li><a href="#"><i class="fa fa-cogs"></i> Settings</a></li>
                            <li><a href="#" ng-click="logout()"><i class="fa fa-power-off"></i> Logout</a></li>
                        </ul>
                  </li>
              </ul>
              <ul class="nav navbar-nav navbar-left">
                <li><a href="#">Home</a></li>
                <li><a href="#">Post</a></li>
                <li><a href="#">Group</a></li>
                <!-- <li>
                    <a href="/post/add"><i class="fa fa-plus"></i> Create Doc</a>
                </li>
                <li ng-show="!global.isEdit">
                    <a href="#" ng-click="setEdit()">Edit this Doc</a>
                </li>
                <li ng-show="global.isEdit">
                  <a href="#" ng-click="backDoc()">Back Doc</a>
                </li> -->
              </ul>
            </div>
          </div>
        </nav>

        <div class="container-fluid">
          <div class="row row-offcanvas row-offcanvas-left" >
            <div class="col-sm-3 col-md-2 sidebar-offcanvas" id="sidebar" role="navigation" ng-controller="tocCtrol">
                <h3 ng-bind="doc.docName"></h3>
                <!-- <ul ng-show="global.isEdit">
                  <li><a ng-href="/doc/{{doc.docName}}/addChapter"> + add</a></li>
                </ul> -->
                <ul class="nav nav-sidebar">
                  <li ng-repeat="chapter in doc.toc" ng-class="{active: chapter.name===current}" ng-click="setCurrent($index)">
                    <a ng-href="/doc/{{doc.docName}}/{{chapter.name}}" ng-bind="chapter.name"></a>
                    <!-- <span ng-show="global.isEdit" >x</span> -->
                  </li>
                </ul>
            </div><!--/span-->
            <div class="col-sm-9 col-md-10 main" ng-view id="main"></div>
          </div>
        </div><!--/.container-->

    <footer>
      <p class="pull-right">Â©2014 Company</p>
    </footer>
    <div class="loading" ng-show="loading.show"></div>
    <script>
      reserveLoad(
        '/public/bower_components/jquery/jquery.js',
        '/public/bower_components/angular/angular.js',
        '/public/bower_components/angular-animate/angular-animate.js',
        '/public/bower_components/angular-cookies/angular-cookies.js',
        '/public/bower_components/angular-resource/angular-resource.js',
        '/public/bower_components/google-code-prettify/src/prettify.js',
        '/public/bower_components/angular-route/angular-route.js',
        '/public/bower_components/marked/lib/marked.js',
        '/public/bower_components/toastr/toastr.js',
        '/public/js/lib/angular-locale_zh-cn.js',
        '/public/js/lib/angular-ui.js',
        '/public/js/lib/bootstrap.js',
        '/public/js/lib/hmac-sha256.js',
        '/public/js/lib/sanitize.js',
        '/public/js/lib/store.js',
        '/public/js/lib/utf8.js',
        '/public/js/locale_zh-cn.js',
        '/public/js/tools.js',
        '/public/js/router.js',
        '/public/js/services.js',
        '/public/js/filters.js',
        '/public/js/directives.js',
        '/public/js/controllers.js',
        '/public/js/app.js',
        function (errorUrl) {
          if (errorUrl) {
            alert('Error loading: ' + errorUrl);
          } else {
            angular.bootstrap(document, ['jsGen']);
          }
        }
      );
    </script>
        <script type='text/javascript' src="/public/js/lib/jquery-1.9.1.min.js"></script>
        <script type='text/javascript' src="/public/js/lib/bootstrap.min.js"></script>
        <script type='text/javascript' src="/public/js/bootply.js"></script>
        
        <!-- JavaScript jQuery code from Bootply.com editor -->  
        <script type='text/javascript'>
            $(document).ready(function() {
              $('#main').on('click','[data-toggle=offcanvas]', function() {
                $('.row-offcanvas').toggleClass('active');
              });
            });
            // var $ul = $('#sidebar').find('ul');
            // $ul.addClass('nav nav-sidebar');
            // var chapter = '<%= locals.chapter %>';
            // $ul.find('li').each(function(key,li) {
            //   var href = $(li).find('a').attr('ng-href');
            //   if (href && href.match(/\/(\w+)$/)[1] === chapter ) {
            //     $(li).addClass('active');
            //   }
            // });
            // $ul.find('li').on('click', function() {
            //   $ul.find('li').removeClass('active');
            //   $(this).addClass('active');
            // });
        </script>
    </body>
</html>