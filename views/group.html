<!DOCTYPE html>
<html lang="en">
    <head>
        <meta http-equiv="content-type" content="text/html; charset=UTF-8"> 
        <title>Translate</title>
        <meta name="generator" content="translate" />
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

        <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"/>
        <!-- bootstrap 3.0.2 -->
        <link href="/public/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
        <!-- font Awesome -->
        <link href="/public/css/font-awesome.min.css" rel="stylesheet" type="text/css" />
        <!-- Theme style -->
        <link href="/public/css/AdminLTE.css" rel="stylesheet" type="text/css" />
        <link rel="stylesheet" href="/public/css/main.css">
        <!-- magnific popup -->
        <link rel="stylesheet" href="/public/js/lib/magnific-popup/magnific-popup.css">
        <!-- atwho -->
        <link rel="stylesheet" href="/public/js/lib/atwho/jquery.atwho.css">
        <!-- flexText -->
        <link rel="stylesheet" href="/public/js/lib/flexText/jquery.flexText.css">

        <!--[if lt IE 9]>
          <script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->

        <!-- CSS code from translate.com editor -->
        
        <style type="text/css">
            /*
           * Style tweaks
           * --------------------------------------------------
           */
          html,body {
            background-color: #edeff0;
          }
          .home-container {
            padding-top: 19px;
          }
          footer {
            padding-left: 15px;
            padding-right: 15px;
            background-color: #fff;
          }
          .section {
            margin-bottom: 20px;
          }
          .well .section {
            margin-bottom: 0;
          }
          .jumbotron {
            padding-bottom: 33px;
            padding-top: 38px;
            padding-left: 50px;
            padding-right: 50px;
          }
          .container .jumbotron {
            border-radius: 0;
          }
          .jumbotron .btn {
            width: 74px;
          }
          .jumbotron h1 {
            font-size: 36px;
            margin-top: 0;
          }
          .well h3 {
            margin-top: 10px;
          }
          .well h4 {
            margin-bottom: 20px;
            font-weight: 700;
          }
          .media-info .date {
            color: #99a1a6;
          }
          .media-info .media-control {
            padding-right: 16px;
          }
          .media-info .media-control .like {
            margin-right: 10px;
          }
          .media-info .media-control .liked i {
            color: rgb(51, 51, 51);
          }
          .pager li>a {
            border-radius: 3px;
          }
          .news .panel-heading {
            border-bottom: 1px solid #ddd;
          }
          .news .panel-title {
            font-weight: 700;
            font-size: 18px;
          }
          .reply-container {
            margin: 15px 15px 0 0;
            padding: 15px;
            border: 1px solid #e3e3e3;
          }
          .reply-content {
            margin-bottom: 5px;
          }
          .reply-hr {
            margin-bottom: 8px;
            margin-top: 15px;
          }
          .comment-editor.comment-editor-inline {
            margin-top: 9px;
          }
          .comment-editor .input-group-btn:last-child >.btn {
            margin-left: 8px;
            border-bottom-left-radius: 3px;
            border-top-left-radius: 3px;
          }
          .notifications-menu .dropdown-menu {
            width: 130px!important;
          }
          .profile-sidebar .user-header h3 {
            font-size: 18px;
            margin-left: 10px;
          }
          .profile-sidebar .user-body {
            margin-top: 15px;
          }
          .profile-sidebar .user-header img {
            background-color: #999;
          }
          .profile-sidebar .user-body > div {
            padding-left: 0;
          }
          .custom-well {
            background-color:transparent; 
            border: 1px solid transparent; 
            border-radius: 4px; 
            -webkit-box-shadow: inset 0 1px 1px transparent; 
            box-shadow: inset 0 1px 1px transparent; 
            padding: 0;
          }
          .siderbar-nav {
            border: 1px solid #e3e3e3;
            background-color: #fff;
            border-radius: 0;
          }
          .home-container .col-md-2 {
            padding-left: 0;
          }
          .profile-sidebar {
            float: right;
            padding-left: 0;
          }
          .profile-body {
            min-height: 960px;
          }
          .btn-primary.default {
            background-color: #fafafa;
            color: #666;
            border-color: #ddd;
            border-bottom-color: #ddd;
          }
          .btn-primary.default:hover {
            background-color: #fafafa;
            color: #666;
          }
          .share-success >i {
            color: #5cb85c;
            font-size: 30px;
          }
          .share-success >span {
            line-height: 30px;
            font-size: 18px;
            color: #999;
          }
          .share-success {
            position: absolute;
            top: 50%;
            left: 50%;
            margin-left: -50px;
            margin-top: -15px;
            display: none;
          }
          /*group*/
          .group-title h3 {
            margin-top: 0;
          } 
          .group-title small {
            margin-left: 10px;
          }
          .container.group .col-md-2 {
            padding-left: 0;
          }
          .group-avatar {
            margin-bottom: 15px;
          }
          .group-avatar img {
            width: 100%;
            height: 173px;
          }
          .group-op-btn {
            border: 1px solid #ddd;
            background-color: #fff;
            margin-bottom: 0;
            font-weight: 400;
            text-align: center;
            cursor: pointer;
            vertical-align: middle;
            white-space: nowrap;
            padding: 6px 12px;
            font-size: 14px;
            line-height: 1.42857143;
            border-radius: 3px;
          }
          .group-topic-add {
            margin-bottom: 10px;
          }
          .group-announcement .panel-body {
            max-height: 110px;
          }
          .group-announcement-title {
            margin-bottom: 6px;
            font-weight: 700;
          }
          .group-settings-basic .panel-body {
            padding-top: 25px;
          }
          .form-container > .row {
            margin-bottom: 15px;
          }
          .group-settings-basic .panel-body label {
            line-height: 30px;
            width: 100%;
            text-align: right;
          }
          .group-settings-members tbody input {
            border-radius: 4px!important;
          }
          .group-settings-members tbody img {
            width: 18px;
            height: 18px;
            margin-right: 5px;
          }
          .group-settings-basic .panel,
          .group-settings-members .panel {
            border-top-left-radius: 0;
            border-top-right-radius: 0;
          }
          .group-settings-basic .error {
            line-height: 30px;
            color: red;
            margin-right: 15px;
          }
          .group-settings-basic .success {
            line-height: 35px;
            margin-right: 15px;
            color: #5cb85c;
          }
          .displayNone {
            display: none;
          }
          .members-items {
            padding-left: 75px;
          }
          .tip {
            margin-bottom: 10px;
          }

          /* upload */
          .basic-settings-avatar {
            position: relative;
            width: 150px;
          }
          .basic-settings-avatar img {
            width: 150px;
            height: 150px;
          }
          .basic-settings-avatar > input {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none;
            opacity: 0;
            cursor: pointer;
          }
          .basic-settings-avatar .upload-progress {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: none;
            line-height: 74px;
            text-align: center;
            background-color: #0b0b0b;
            opacity: 0.8;
            color: #fff;
          }
          .avatar-tip {
            margin-top: 15px;
          }
          .section strong {
            width: 53px;
            text-align: right;
            display: inline-block;
          }
          .group-add-content {
            position: absolute;
            z-index: 100;
            padding: 15px;
            width: 80%;
            left: 0;
            margin-top: 15px;
            background-color: #fff;
            border: 1px solid #999;
            border: 1px solid rgba(0,0,0,.2);
            border-radius: 6px;
            -webkit-box-shadow: 0 3px 9px rgba(0,0,0,.5);
            box-shadow: 0 3px 9px rgba(0,0,0,.5);
            background-clip: padding-box;
            outline: 0;
            
          }
          .group-add-content .custom-well {
            margin-bottom: 0;
          }
          .group-add-content .arrow {
            position: absolute;
            display: block;
            width: 0;
            height: 0;
            border-color: transparent;
            border-style: solid;

            border-width: 11px;
            left: 65px;
            margin-left: -11px;
            border-top-width: 0;
            border-bottom-color: rgba(0,0,0,.25);
            top: -11px;
          }
          .group-add-content .arrow:after {
            position: absolute;
            display: block;
            width: 0;
            height: 0;
            border-color: transparent;
            border-style: solid;

            border-width: 10px;

            content: " ";
            top: 1px;
            margin-left: -10px;
            border-top-width: 0;
            border-bottom-color: #fff;
          }
          .share-success >i {
            color: #5cb85c;
            font-size: 30px;
          }
          .share-success >span {
            line-height: 30px;
            font-size: 18px;
            color: #999;
          }
          .share-success {
            position: absolute;
            top: 50%;
            left: 50%;
            margin-left: -50px;
            margin-top: -15px;
            display: none;
          }
          .fa.creator {
            color: #f56954;
          }
          .fa.admin {
            color: #367fa9;
          }
          .delete {
            margin-right: 10px;
          }
          .at {
            color: #428bca;
          }
          .quit {
            cursor: pointer;
          }
          .no-notify {
            padding: 15px;
          }
          .notifications-menu .dropdown-menu {
            width: 130px!important;
          }
          /* custom */
          .input-search {
            position: relative;
            display: none;
          }
          .input-search > input {
            padding-left: 33px;
            border-radius: 3px!important;
          }
          .input-search > input:focus + .input-search-addon i {
            color: #3c8dbc;
          }
          .input-search .input-search-addon {
            position: absolute;
            top: 0;
            left: 0;
            height: 100%;
          }
          .input-search .input-search-addon i {
            line-height: 34px;
            padding: 0 11px;
            color: #99a1a6;
          }
          /* for auto Height*/
          .comment-editor-inline .form-control {
            position: absolute;
          }
          .comment-editor-inline .flex-text-wrap > pre {
            padding-top: 7px;
            padding-bottom: 7px;
            margin-bottom: 0;
          }
          .newTopic .flex-text-wrap > pre {
            min-height: 74px;
          }
          /* reset magnific popup */
          .mfp-container:before {
            content: '';
            display: inline-block;
            height: 20%;
            vertical-align: middle;
          }
          /* reset AdminLTE.css */
          .pagination {
            margin-top: 0;
          }
          .pagination > li > a {
            color: #428bca;
            -webkit-box-shadow: none;
            -moz-box-shadow: none;
            box-shadow: none;
          }
          .nav-tabs-custom > .nav-tabs {
            width: 100%;
            background-color: #f5f5f5;
          }
          .navbar {
            border-radius: 0px;
          }
        </style>
        <!-- for angular ng-cloak -->
        <style type="text/css">@charset "UTF-8";[ng\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide{display:none !important;}ng\:form{display:block;}.ng-animate-start{clip:rect(0,auto,auto,0);-ms-zoom:1.0001;}.ng-animate-active{clip:rect(-1px,auto,auto,0);-ms-zoom:1;}
        </style>
        <script src="/public/bower_components/reserveLoadjs/reserveLoad.js"></script>
        <script type="text/javascript">
          window.author = null;
          window.group = null;
          window.isJoined = null;
          window.isAdmin = null;
          window.isCreator = null;
          <% if (locals.author) { %>
            window.author = <%- JSON.stringify(locals.author) %>;
          <% } %>
          <% if (locals.group) { %>
            window.group = <%- JSON.stringify(locals.group) %>;
          <% } %>
          <% if (locals.isJoined) { %>
            window.isJoined = <%= locals.isJoined %>;
          <% } %>
           <% if (locals.isAdmin) { %>
            window.isAdmin = <%= locals.isAdmin %>;
          <% } %>
           <% if (locals.isCreator) { %>
            window.isCreator = <%= locals.isCreator %>;
          <% } %>
        </script>    
    </head>
    <body>
        <div class="mfp-bg mfp-ready" ng-cloak ng-if="global.popup.show"></div>
        <div class="mfp-wrap mfp-close-btn-in mfp-auto-cursor mfp-ready" tabindex="-1" style="overflow-y: auto; overflow-x: hidden;" ng-cloak ng-if="global.popup.show">
          <div class="mfp-container mfp-s-ready mfp-inline-holder">
            <div class="mfp-content">
              <div class="white-popup-block" ng-if="global.popup.type == 'login'">
                {{global.popup.text}}
                <button title="Close" type="button" class="mfp-close" ng-click="global.popup.close()">×</button>
              </div>
              <div class="white-popup-block" ng-if="global.popup.type == 'check'" style="max-width: 450px;">
                <button title="Close" type="button" class="mfp-close" ng-click="global.popup.close()">×</button>
                <label>Validate message:</label>
                <input class="form-control" type="text" placeholder="message" ng-model="global.inputMessage">
                <div class="clearfix" style="margin-top:10px;">
                    <button class="btn btn-primary pull-right" ng-click="global.joinSubmit()">Submit</button>
                </div>
              </div>
              <div class="white-popup-block" ng-if="global.popup.type == 'shareDelete'">
                <label>Are You Sure To Delete it ?</label>
                <div class="clearfix">
                    <button class="btn btn-primary pull-right" ng-click="global.popup.close()">No</button>
                    <button class="btn btn-danger pull-right" ng-click="global.deleteShare()" style="margin-right:10px;">Yes</button>
                </div>
              </div>
              <div class="white-popup-block" ng-if="global.popup.type == 'memberDelete'">
                <label>Are You Sure To Delete it ?</label>
                <div class="clearfix">
                    <button class="btn btn-primary pull-right" ng-click="global.popup.close()">No</button>
                    <button class="btn btn-danger pull-right" ng-click="global.deleteMember()" style="margin-right:10px;">Yes</button>
                </div>
              </div>
              <div class="white-popup-block" ng-if="global.popup.type == 'quit'">
                <label>Are You Sure To Quit this group ?</label>
                <div class="clearfix">
                    <button class="btn btn-primary pull-right" ng-click="global.popup.close()">No</button>
                    <button class="btn btn-danger pull-right" ng-click="global.quit()" style="margin-right:10px;">Yes</button>
                </div>
              </div>
            </div>
            <div class="mfp-preloader">Loading...</div>
          </div>
        </div>

        <!-- body content -->
        <nav class="navbar navbar-inverse" role="navigation" >
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              <a class="navbar-brand" href="#">Translate</a>
            </div>
            <div class="navbar-collapse collapse">
              <ul class="nav navbar-nav navbar-right">
                  <% if (!locals.author) { %>
                  <li class="dropdown" id="menuLogin" >
                      <a class="dropdown-toggle" href="/login?re=/group/<%= locals.group.id %>" target="_self">Login</a>
                  </li>
                  <% } else { %>
                  <li class="dropdown notifications-menu user-menu" id="menuNotify" ng-cloak>
                      <a href="#" class="dropdown-toggle" data-toggle="dropdown" >
                            <i class="fa fa-bell"></i> 
                            <span class="label label-wraning">{{request.connect + request.group + request.reply + request.comment + request.at || ''}}</span>
                        </a>
                        <ul class="dropdown-menu" class="request-container">
                            <li ng-show="request.connect"><a href="/request/connect" target="_self">{{request.connect}} friends request</a></li>
                            <li ng-show="request.group"><a href="/request/group" target="_self">{{request.group}} group request</a></li>
                            <li ng-show="request.reply"><a href="/request/reply" target="_self">{{request.reply}} reply</a></li>
                            <li ng-show="request.comment"><a href="/request/comment" target="_self">{{request.comment}} comment</a></li>
                            <li ng-show="request.at"><a href="/request/at" target="_self">{{request.at}} at</a></li>
                            <li ng-show="!request.comment && !request.reply && !request.group && !request.connect && !request.at" class="no-notify">No notify</li>
                        </ul>
                  </li>
                  <li class="dropdown user user-menu">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                            <img src="<%= locals.author && locals.author.avatar %>" alt="" class="nav-user-pic img-responsive">             
                            <span id="lblUsername" style="margin-left: 5px;">
                              <%= locals.author && locals.author.name %>
                            </span>
                            <b class="caret"></b>
                        </a>
                        <ul class="dropdown-menu">
                            <!-- User image -->
                            <li class="user-header bg-modena">
                                <img src="<%= locals.author && locals.author.avatar %>" class="img-circle" alt="User Image" class="user_avatar">
                                <p>
                                    <span class="user_username"> <%= locals.author &&locals.author.name %></span>
                                </p>
                            </li>
                            <!-- Menu Body -->
                            <li class="user-body">
                                <div class="col-xs-6 text-center">
                                    <a href="#" ><%= locals.author.share.length %></a>
                                </div>
                                <div class="col-xs-6 text-center">
                                    <a href="#"><%= locals.author.connects.length %></a>
                                </div>
                                <div class="col-xs-6 text-center">
                                    <a href="#">share</a>
                                </div>
                                <div class="col-xs-6 text-center">
                                    <a href="#">Connects</a>
                                </div>
                            </li>
                            <!-- Menu Footer-->
                            <li class="user-footer">
                                <div class="pull-left">
                                    <a href="/settings/account" target="_self" class="btn btn-default btn-flat">Account</a>
                                </div>
                                <div class="pull-right">
                                    <a href="#" class="btn btn-default btn-flat" id="btnLogout">Sign out</a>
                                </div>
                            </li>
                        </ul>
                  </li>
                  <% } %>
              </ul>
              <ul class="nav navbar-nav navbar-left">
                <li><a href="/home" target="_self">Home</a></li>
                <li><a href="/profile" target="_self">profile</a></li>
                <li><a href="/group" target="_self">group</a></li>
                <li><a href="/search/all" target="_self">search</a></li>
              </ul>
            </div>
          </div>
        </nav>
        <div class="container group-title"><h3><%= locals.group.name %><small><%= locals.group.industry %></small></h3></div>
        <div class="container group">
          <div class="col-md-2">
            <div class="well custom-well siderbar-nav group-avatar">
              <a href="#"><img src="<%= locals.group.avatar %>"></a>
            </div>
            <% if (locals.author) { %>
            <div class="custom-well tip">
              <i class="fa fa-fw fa-volume-up"></i>
              Hi: <%= locals.author.name %> ! welcome
            </div>
            <% } else { %>
            <div class="custom-well tip">
              <i class="fa fa-fw fa-volume-up"></i>
              You are visitor !
            </div>
            <% } %>
            <div>
              <% if (locals.isCreator || locals.isAdmin) { %>
              <a ng-href="/group/<%= locals.group.id %>/settings" type="button" class="group-op-btn btn-block">settings</a>
              <% } %>
              <% if (locals.author && locals.isJoined && !locals.isCreator && !locals.isAdmin) { %>
              <a  href="#" type="button" class="group-op-btn btn-block" ng-click="global.triggerQuit()">Quit this group</a>
              <% } %>
              <% if (locals.author && !locals.isJoined) { %>
              <a  href="#" type="button" class="group-op-btn btn-block" ng-click="global.join()">Join this group</a>
              <% } %>
              <% if (!locals.author) { %>
              <a  href="#" type="button" class="group-op-btn btn-block" ng-click="global.join()">Join this group</a>
              <% } %>
            </div>
          </div>
          <div class="col-md-7" ng-view></div>
          <div class="col-md-3 pull-right">
            <div class="panel panel-default section group-announcement">
              <div class="panel-body">
                <div class="text-center group-announcement-title">Announcement</div>
                <div><%= locals.group.announcement || 'please add announcement !' %> (2014/6/19)</div>
              </div>
            </div>
            <div class="panel panel-default section">
              <div class="panel-heading">Members(50/100)</div>
              <div class="panel-body">
                <div class="clearfix">
                  <div class="pull-left">
                    <strong>Creator :</strong>
                  </div>
                  <div class="members-items">
                    <div><a href="/profile/<%= locals.group.creator.id %>" target="_self"><%= locals.group.creator.name %></a></div>
                  </div>
                </div>
                <div class="clearfix">
                  <div class="pull-left">
                    <strong>Admin :</strong>
                  </div>
                  <div class="members-items">
                    <% locals.group.admin.forEach(function(item,key){ %>
                    <div>
                      <a href="/profile/<%= item.id %>" target="_self"><%= item.name %></a>
                    </div>
                    <% }) %> 
                    <% if (locals.group.admin.length === 0) { %>
                    <div> no set any admin yet !</div>
                    <% } %> 
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <footer>
          <p class="pull-right">©2014 Joeylin 331547274@qq.com</p>
        </footer>
        <script>
          reserveLoad(
            '/public/bower_components/jquery/jquery.js',
            '/public/bower_components/angular/angular.js',
            '/public/bower_components/angular-animate/angular-animate.js',
            '/public/bower_components/angular-cookies/angular-cookies.js',
            '/public/bower_components/angular-resource/angular-resource.js',
            '/public/bower_components/google-code-prettify/src/prettify.js',
            '/public/bower_components/angular-route/angular-route.js',
            '/public/bower_components/marked/lib/marked.js',
            '/public/bower_components/toastr/toastr.js',
            '/public/js/lib/angular-locale_zh-cn.js',
            '/public/js/lib/bootstrap.min.js',
            '/public/js/lib/hmac-sha256.js',
            '/public/js/lib/sanitize.js',
            '/public/js/lib/store.js',
            '/public/js/lib/utf8.js',
            '/public/js/lib/atwho/jquery.caret.min.js',
            '/public/js/lib/atwho/jquery.atwho.js',
            '/public/js/lib/flexText/jquery.flexText.min.js',
            '/public/js/lib/qiniu.uploader.js',
            '/public/js/upload.js',
            '/public/js/lib/angular-ui.js',
            '/public/js/bootply.js',
            '/public/js/locale_zh-cn.js',
            '/public/js/tools.js',
            '/public/js/group/router.js',
            '/public/js/services.js',
            '/public/js/filters.js',
            '/public/js/directives.js',
            '/public/js/group/controllers.js',
            '/public/js/group/app.js',
            function (errorUrl) {
              if (errorUrl) {
                alert('Error loading: ' + errorUrl);
              } else {
                angular.bootstrap(document, ['jsGen']);
              }
            }
          );
        </script>
    </body>
</html>